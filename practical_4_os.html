<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

        <style>
        body,html{
            width:100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        h1{
            font-size: 3rem;
            color: red;
            font-style: italic;
            text-align: center;
            text-decoration: underline;
        }
        .container{
            width: 100%;
            height: auto;
            padding: 10px;
            border:4px dotted greenyellow;
        }
        p{
            font-size: x-large;
        }
        ul{
            font-size: x-large;
            padding-left: 25px ;
        }
        .code{
            width: 100%;
            height: auto;
            background-color: aliceblue;
            position: relative;
                overflow: auto;
            font-style: normal;
            font-size: large;
            border-radius: 2.5%;
        }
        #copyBtn{
            color:black;
            position: absolute;
            cursor: pointer;
            padding: 5px 10px;
            border:none;
            top:10px;
            right:10px;
        }
        
        /* media to responsive mobile  */
        @media (max-width:768px){
            *{
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body,html{
                width: 100%;
                height: auto;
            }
            .container{
                width: 100%;
                height: auto;
            }
            h1{
            font-size: 1rem;
            }
            P{
                font-size: large;
            }
            span{
                font-size: larger;
            }
            pre,code{
                width: 100%;
                overflow: auto;
            position: relative;
            }

        }
</style>
</head>
<body>
<div class="container">
        <h1>Practical No.-4</h1>
        <p>
    <span style="color:blue">Aim:-</span>Simulate the followinf CPU scheduling algorithms. <br> (a)- FCFS (b)- SJF (c)- Round Robin (d)- Priority<br>
    <span style="color:darkorchid">Requriment:-</span> Personal Computer or Laptop,C compiler (Turbo c++ or Visual Studio code with extension). <br>
     <span style="color:brown">Procedure:-</span> <br>
        
     <!-- FCFS Scheduling Algorithm -->
     (a). FCFS Algorithm <br>

     <div class="code"><button id="copyBtn" onclick="copycode()"><i class="fa-solid fa-copy"> copy-code</i></button>
        <pre id="program">
            <code class="language-c">
    <span style="font-weight: 700;font-size: xx-large;">C</span>  

     #include<stdio.h>
    int main() {int n, i, j;
    printf("FCFS Alghorithm scheduling By Kadir Alam\n");
    printf("Enter the number of processes: ");
    scanf("%d", &n);
    int process[n], arrival_time[n], burst_time[n], completion_time[n];
    int waiting_time[n], turnaround_time[n]; int temp;
    // Taking input
    for(i = 0; i < n; i++) {  process[i] = i + 1;
        printf("\nEnter Arrival Time of P%d: ", i + 1);
        scanf("%d", &arrival_time[i]);
        printf("Enter Burst Time of P%d: ", i + 1);
        scanf("%d", &burst_time[i]);}
    // Sorting by Arrival Time (FCFS works on order of arrival)
    for(i = 0; i < n; i++) {
        for(j = i + 1; j < n; j++) {
            if(arrival_time[i] > arrival_time[j]) {
                // swap arrival
                temp = arrival_time[i];arrival_time[i] = arrival_time[j];arrival_time[j] = temp;
                // swap burst
                temp = burst_time[i];burst_time[i] = burst_time[j];burst_time[j] = temp;
                // swap process number
                temp = process[i];process[i] = process[j];process[j] = temp; }}    }
    // Calculate Completion Time
    completion_time[0] = arrival_time[0] + burst_time[0];
    for(i = 1; i < n; i++) {
        if(completion_time[i-1] < arrival_time[i]) {
            completion_time[i] = arrival_time[i] + burst_time[i]; // CPU idle
        } else {completion_time[i] = completion_time[i-1] + burst_time[i]; }    }
    // Calculate TAT and WT
    for(i = 0; i < n; i++) {
        turnaround_time[i] = completion_time[i] - arrival_time[i];
        waiting_time[i] = turnaround_time[i] - burst_time[i];    }
    // Display table
    printf("\nProcess\tAT\tBT\tCT\tTAT\tWT\n");
    for(i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t%d\t%d\t%d\n", process[i], arrival_time[i], burst_time[i], completion_time[i], turnaround_time[i], waiting_time[i]);    }
    // Average calculation
    float avg_wt = 0, avg_tat = 0;
    for(i = 0; i < n; i++) {
        avg_wt += waiting_time[i];
        avg_tat += turnaround_time[i];    }
    avg_wt /= n; avg_tat /= n;
    printf("\nAverage Waiting Time: %.2f", avg_wt);
    printf("\nAverage Turnaround Time: %.2f\n", avg_tat);
    return 0;
}

    </code>
        </pre>
    </div>
              <!-- SJF Scheduling Algorithm -->
    <P> (b). SJF Algorithm </P><br>
     <div class="code"><button id="copyBtn" onclick="copycode()"><i class="fa-solid fa-copy"> copy-code</i></button>
        <pre id="program">
            <code class="language-c">
    <span style="font-weight: 700;font-size: xx-large;">C</span>  

    #include <stdio.h>
    int main() {
    int n, i, j;
    float avg_tat = 0, avg_wt = 0;
    printf("Shortest Job First Algorithm Scheduling by Kadir Alam\n ");

    printf("Enter number of processes: ");
    scanf("%d", &n);
    

    int pid[n], at[n], bt[n], ct[n], tat[n], wt[n], completed[n];
    
    for(i = 0; i < n; i++) {
        pid[i] = i+1;
          printf("\nEnter Arrival Time of P%d: ", i + 1);
        scanf("%d", &at[i]);
        printf("Enter Burst Time of P%d: ", i + 1);
        scanf("%d", &bt[i]);
         completed[i] = 0;
    }

    int current_time = 0, completed_count = 0;

    while(completed_count < n) {
        int idx = -1;
        int min_bt = 1e9;

        // Find process with min BT among arrived processes
        for(i = 0; i < n; i++) {
            if(at[i] <= current_time && completed[i] == 0) {
                if(bt[i] < min_bt) {
                    min_bt = bt[i];
                    idx = i;
                }
            }
        }

        if(idx != -1) {
            current_time += bt[idx];
            ct[idx] = current_time;
            tat[idx] = ct[idx] - at[idx];
            wt[idx] = tat[idx] - bt[idx];
            completed[idx] = 1;
            completed_count++;

            avg_tat += tat[idx];
            avg_wt += wt[idx];
        } else {
            current_time++; // if no process has arrived yet
        }
    }

    printf("\nPID\tAT\tBT\tCT\tTAT\tWT\n");
    for(i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t%d\t%d\t%d\n", pid[i], at[i], bt[i], ct[i], tat[i], wt[i]);
    }

    printf("\nAverage TAT = %.2f", avg_tat/n);
    printf("\nAverage WT = %.2f\n", avg_wt/n);

    return 0;
}
</code>
        </pre>
     </div>
      <!-- Round Robin Scheduling Alghorithm  -->
<p>(c)- Round Robin</p>
 <div class="code"><button id="copyBtn" onclick="copycode()"><i class="fa-solid fa-copy"> copy-code</i></button>
        <pre id="program">
            <code class="language-c">
    <span style="font-weight: 700;font-size: xx-large;">C</span>  

    #include <stdio.h>

    int main() {
    int n, tq;
    printf("Rounnd Robin by Kadir Alam \n");
    printf("Enter number of processes: ");
    scanf("%d", &n);

    printf("Enter Time Quantum: ");
    scanf("%d", &tq);

    int pid[n], at[n], bt[n], rt[n], ct[n], tat[n], wt[n];
    float avg_tat = 0, avg_wt = 0;

    for (int i = 0; i < n; i++) {
        pid[i] = i + 1;
          printf("\nEnter Arrival Time of P%d: ", i + 1);
        scanf("%d", &at[i]);
        printf("Enter Burst Time of P%d: ", i + 1);
        scanf("%d", &bt[i]);
        rt[i] = bt[i];   // remaining time
        ct[i] = 0;
    }

    int current_time = 0, completed = 0;
    int done = 0;

    while (completed < n) {
        done = 1;
        for (int i = 0; i < n; i++) {
            if (at[i] <= current_time && rt[i] > 0) {
                done = 0;
                if (rt[i] > tq) {
                    current_time += tq;
                    rt[i] -= tq;
                } else {
                    current_time += rt[i];
                    rt[i] = 0;
                    ct[i] = current_time;
                    tat[i] = ct[i] - at[i];
                    wt[i] = tat[i] - bt[i];
                    avg_tat += tat[i];
                    avg_wt += wt[i];
                    completed++;
                }
            }
        }
        if (done == 1) {
            current_time++; // à¤…à¤—à¤° à¤•à¥‹à¤ˆ process ready à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ
        }
    }

    printf("\nPID\tAT\tBT\tCT\tTAT\tWT\n");
    for (int i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t%d\t%d\t%d\n", pid[i], at[i], bt[i], ct[i], tat[i], wt[i]);
    }

    printf("\nAverage TAT = %.2f", avg_tat / n);
    printf("\nAverage WT = %.2f\n", avg_wt / n);

    return 0;
}
</code>

        </pre>
     </div>
    <!-- Priority( Non-Preemptive Scheduling ) Scheduling Alghorithm  -->
     <P>(d)-Priority( Non-Preemptive Scheduling ) Scheduling </P>
     <div class="code"><button id="copyBtn" onclick="copycode()"><i class="fa-solid fa-copy"> copy-code</i></button>
        <pre id="program">
<code class="language-c">
    <span style="font-weight: 700;font-size: xx-large;">C</span>  

    #include <stdio.h>

    int main() {
    int n;
    printf("Priority Scheduling (Non-Preemptive Scheduling) by Kadir Alam \n");
    printf("Enter number of processes: ");
    scanf("%d", &n);

    int pid[n], at[n], bt[n], pr[n], ct[n], tat[n], wt[n], completed[n];
    float avg_tat = 0, avg_wt = 0;

    for (int i = 0; i < n; i++) {
        pid[i] = i + 1;
          printf("\nEnter Arrival Time of P%d: ", i + 1);
        scanf("%d", &at[i]);
        printf("Enter Burst Time of P%d: ", i + 1);
        scanf("%d", &bt[i]);

        printf("Enter Priority of P%d: ", i + 1);
        scanf("%d", &pr[i]);
        completed[i] = 0;
    }

    int current_time = 0, completed_count = 0;

    while (completed_count < n) {
        int idx = -1, best_pr = 1e9;

        for (int i = 0; i < n; i++) {
            if (at[i] <= current_time && completed[i] == 0) {
                if (pr[i] < best_pr) {
                    best_pr = pr[i];
                    idx = i;
                }
            }
        }

        if (idx != -1) {
            current_time += bt[idx];
            ct[idx] = current_time;
            tat[idx] = ct[idx] - at[idx];
            wt[idx] = tat[idx] - bt[idx];
            completed[idx] = 1;
            completed_count++;

            avg_tat += tat[idx];
            avg_wt += wt[idx];
        } else {
            current_time++;
        }
    }

    printf("\nPID\tAT\tBT\tPR\tCT\tTAT\tWT\n");
    for (int i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t%d\t%d\t%d\t%d\n",
               pid[i], at[i], bt[i], pr[i], ct[i], tat[i], wt[i]);
    }

    printf("\nAverage TAT = %.2f", avg_tat / n);
    printf("\nAverage WT = %.2f\n", avg_wt / n);

    return 0;
}
</code>
</pre>
</div>
    <!-- Priority( Preemptive Scheduling ) Scheduling Algorithms -->
 <P>(d)-Priority( Preemptive Scheduling ) Scheduling </P>
     <div class="code"><button id="copyBtn" onclick="copycode()"><i class="fa-solid fa-copy"> copy-code</i></button>
        <pre id="program">
            <code class="language-c">
    <span style="font-weight: 700;font-size: xx-large;">C</span>  

    #include <stdio.h>

    int main () {
    int n;
    printf ("Priority Scheduling (Preemptive Scheduling) by Kadir Alam\n");
    printf ("Enter number of processes: ");
    scanf ("%d", &n);

    int pid[n], at[n], bt[n], rt[n], pr[n], ct[n], tat[n], wt[n], completed[n];
    float avg_tat = 0, avg_wt = 0;

    for (int i = 0; i < n; i++) {
        pid[i] = i + 1;
           printf("\nEnter Arrival Time of P%d: ", i + 1);
        scanf("%d", &at[i]);
        printf("Enter Burst Time of P%d: ", i + 1);
        scanf("%d", &bt[i]);

        printf("Enter Priority of P%d: ", i + 1);
        scanf("%d", &pr[i]);
         rt[i] = bt[i];
        completed[i] = 0;
    }
    int current_time = 0, completed_count = 0;

    while (completed_count < n) {
        int idx = -1, best_pr = 1e9;

        for (int i = 0; i < n; i++) {
            if (at[i] <= current_time && completed[i] == 0) {
                if (pr[i] < best_pr) {
                    best_pr = pr[i];
                    idx = i;
                }
            }
        }
        if (idx != -1) {
            rt[idx]--;
            current_time++;

            if (rt[idx] == 0) {
                completed[idx] = 1;
                completed_count++;
                ct[idx] = current_time;
               tat[idx] = ct[idx] - at[idx];
                wt[idx] = tat[idx] - bt[idx];

                avg_tat += tat[idx];
                avg_wt += wt[idx];
            }
        } else {
            current_time++;
        }
    }
    printf("\nPID\tAT\tBT\tPR\tCT\tTAT\tWT\n");
    for (int i = 0; i < n; i++) {
        printf("P%d\t%d\t%d\t%d\t%d\t%d\t%d\n",
               pid[i], at[i], bt[i], pr[i], ct[i], tat[i], wt[i]);
    }
    printf("\nAverage TAT = %.2f", avg_tat / n);
    printf("\nAverage WT = %.2f\n", avg_wt / n);
    return 0;
}
</code>
</pre>   
</div>



</p>
</div>

<script type="module">
 import { copycode } from './function.js';

 document.getElementById("copyBtn").addEventListener("click",copycode);

</script>
</body>
</html>